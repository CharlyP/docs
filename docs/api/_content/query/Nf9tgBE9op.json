{"_path":"/guide/configuration/nuxt-auth-handler","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"NuxtAuthHandler","description":"Learn how to configure nuxt-auth with the NuxtAuthHandler","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"nuxtauthhandler"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After setting up nuxt-auth inside your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-config.ts"}]},{"type":"text","value":" you can begin defining providers and other options inside your NuxtAuthHandler."}]},{"type":"element","tag":"h2","props":{"id":"creating-a-new-nuxtauthhandler"},"children":[{"type":"text","value":"Creating a new NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to create your own "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHanlder"}]},{"type":"text","value":", create the file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/auth/[...].ts"}]},{"type":"text","value":". This file will automatically intercept all\nrequests going to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://localhost/api/auth"}]},{"type":"text","value":" and inject the authentication api. If you wish you can also use a custom api path, however this change will need to be\nreflected in the "},{"type":"element","tag":"a","props":{"href":"/nuxt-auth/configuration/nuxt-config#basepath"},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":", which is configured in the "},{"type":"element","tag":"a","props":{"href":"/nuxt-auth/configuration/nuxt-config"},"children":[{"type":"text","value":"nuxt-config.ts"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"configuring-your-nuxtauthhandler"},"children":[{"type":"text","value":"Configuring your NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler({ ... })"}]},{"type":"text","value":" to configure how the authentication itself behaves:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { NuxtAuthHandler } from '#auth'\n    \nexport default NuxtAuthHandler({\n    // your authentication configuration here!\n})\n","filename":"Simple NuxtAuthHandler","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { NuxtAuthHandler } from '#auth'\n    \nexport default NuxtAuthHandler({\n    // your authentication configuration here!\n})\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"import CredentialsProvider from 'next-auth/providers/credentials'\nimport GithubProvider from 'next-auth/providers/github'\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // A secret string you define, to ensure correct encryption  \n  secret: 'your-secret-here',  \n  providers: [\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    GithubProvider.default({\n      clientId: 'your-client-id',\n      clientSecret: 'your-client-secret'\n    }),\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    CredentialsProvider.default({\n      // The name to display on the sign in form (e.g. 'Sign in with...')\n      name: 'Credentials',\n      // The credentials is used to generate a suitable form on the sign in page.\n      // You can specify whatever fields you are expecting to be submitted.\n      // e.g. domain, username, password, 2FA token, etc.\n      // You can pass any HTML attribute to the <input> tag through the object.\n      credentials: {\n        username: { label: 'Username', type: 'text', placeholder: '(hint: jsmith)' },\n        password: { label: 'Password', type: 'password', placeholder: '(hint: hunter2)' }\n      },\n      authorize (credentials: any) {\n        // You need to provide your own logic here that takes the credentials\n        // submitted and returns either a object representing a user or value\n        // that is false/null if the credentials are invalid.\n        // NOTE: THE BELOW LOGIC IS NOT SAFE OR PROPER FOR AUTHENTICATION!\n\n        const user = { id: '1', name: 'J Smith', username: 'jsmith', password: 'hunter2' }\n\n        if (credentials?.username === user.username && credentials?.password === user.password) {\n          // Any object returned will be saved in `user` property of the JWT\n          return user\n        } else {\n          // eslint-disable-next-line no-console\n          console.error('Warning: Malicious login attempt registered, bad credentials provided')\n\n          // If you return null then an error will be displayed advising the user to check their details.\n          return null\n\n          // You can also Reject this callback with an Error thus the user will be sent to the error page with the error message as a query parameter\n        }\n      }\n    })\n  ]\n})\n","filename":"Full NuxtAuthHandler","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import CredentialsProvider from 'next-auth/providers/credentials'\nimport GithubProvider from 'next-auth/providers/github'\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // A secret string you define, to ensure correct encryption  \n  secret: 'your-secret-here',  \n  providers: [\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    GithubProvider.default({\n      clientId: 'your-client-id',\n      clientSecret: 'your-client-secret'\n    }),\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    CredentialsProvider.default({\n      // The name to display on the sign in form (e.g. 'Sign in with...')\n      name: 'Credentials',\n      // The credentials is used to generate a suitable form on the sign in page.\n      // You can specify whatever fields you are expecting to be submitted.\n      // e.g. domain, username, password, 2FA token, etc.\n      // You can pass any HTML attribute to the <input> tag through the object.\n      credentials: {\n        username: { label: 'Username', type: 'text', placeholder: '(hint: jsmith)' },\n        password: { label: 'Password', type: 'password', placeholder: '(hint: hunter2)' }\n      },\n      authorize (credentials: any) {\n        // You need to provide your own logic here that takes the credentials\n        // submitted and returns either a object representing a user or value\n        // that is false/null if the credentials are invalid.\n        // NOTE: THE BELOW LOGIC IS NOT SAFE OR PROPER FOR AUTHENTICATION!\n\n        const user = { id: '1', name: 'J Smith', username: 'jsmith', password: 'hunter2' }\n\n        if (credentials?.username === user.username && credentials?.password === user.password) {\n          // Any object returned will be saved in `user` property of the JWT\n          return user\n        } else {\n          // eslint-disable-next-line no-console\n          console.error('Warning: Malicious login attempt registered, bad credentials provided')\n\n          // If you return null then an error will be displayed advising the user to check their details.\n          return null\n\n          // You can also Reject this callback with an Error thus the user will be sent to the error page with the error message as a query parameter\n        }\n      }\n    })\n  ]\n})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":" accepts "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/configuration/options#options","rel":["nofollow"]},"children":[{"type":"text","value":"all options that NextAuth.js accepts for its API initialization"}]},{"type":"text","value":". Use this place to configure authentication providers (oauth-google, credential flow, ...), your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":" (equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_SECRET"}]},{"type":"text","value":" in NextAuth.js), add callbacks for authentication events, configure a custom logger and more. Read the linked "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NextAuth.js"}]},{"type":"text","value":" configuration to figure out how this works and what you can do."}]}]},"toc":false,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"nuxtauthhandler"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After setting up nuxt-auth inside your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-config.ts"}]},{"type":"text","value":" you can begin defining providers and other options inside your NuxtAuthHandler."}]},{"type":"element","tag":"h2","props":{"id":"creating-a-new-nuxtauthhandler"},"children":[{"type":"text","value":"Creating a new NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to create your own "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHanlder"}]},{"type":"text","value":", create the file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/auth/[...].ts"}]},{"type":"text","value":". This file will automatically intercept all\nrequests going to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://localhost/api/auth"}]},{"type":"text","value":" and inject the authentication api. If you wish you can also use a custom api path, however this change will need to be\nreflected in the "},{"type":"element","tag":"a","props":{"href":"/nuxt-auth/configuration/nuxt-config#basepath"},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":", which is configured in the "},{"type":"element","tag":"a","props":{"href":"/nuxt-auth/configuration/nuxt-config"},"children":[{"type":"text","value":"nuxt-config.ts"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"configuring-your-nuxtauthhandler"},"children":[{"type":"text","value":"Configuring your NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler({ ... })"}]},{"type":"text","value":" to configure how the authentication itself behaves:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { NuxtAuthHandler } from '#auth'\n    \nexport default NuxtAuthHandler({\n    // your authentication configuration here!\n})\n","filename":"Simple NuxtAuthHandler","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'#auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// your authentication configuration here!"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"import CredentialsProvider from 'next-auth/providers/credentials'\nimport GithubProvider from 'next-auth/providers/github'\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // A secret string you define, to ensure correct encryption  \n  secret: 'your-secret-here',  \n  providers: [\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    GithubProvider.default({\n      clientId: 'your-client-id',\n      clientSecret: 'your-client-secret'\n    }),\n    // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n    CredentialsProvider.default({\n      // The name to display on the sign in form (e.g. 'Sign in with...')\n      name: 'Credentials',\n      // The credentials is used to generate a suitable form on the sign in page.\n      // You can specify whatever fields you are expecting to be submitted.\n      // e.g. domain, username, password, 2FA token, etc.\n      // You can pass any HTML attribute to the <input> tag through the object.\n      credentials: {\n        username: { label: 'Username', type: 'text', placeholder: '(hint: jsmith)' },\n        password: { label: 'Password', type: 'password', placeholder: '(hint: hunter2)' }\n      },\n      authorize (credentials: any) {\n        // You need to provide your own logic here that takes the credentials\n        // submitted and returns either a object representing a user or value\n        // that is false/null if the credentials are invalid.\n        // NOTE: THE BELOW LOGIC IS NOT SAFE OR PROPER FOR AUTHENTICATION!\n\n        const user = { id: '1', name: 'J Smith', username: 'jsmith', password: 'hunter2' }\n\n        if (credentials?.username === user.username && credentials?.password === user.password) {\n          // Any object returned will be saved in `user` property of the JWT\n          return user\n        } else {\n          // eslint-disable-next-line no-console\n          console.error('Warning: Malicious login attempt registered, bad credentials provided')\n\n          // If you return null then an error will be displayed advising the user to check their details.\n          return null\n\n          // You can also Reject this callback with an Error thus the user will be sent to the error page with the error message as a query parameter\n        }\n      }\n    })\n  ]\n})\n","filename":"Full NuxtAuthHandler","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"CredentialsProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'next-auth/providers/credentials'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"GithubProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'next-auth/providers/github'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'#auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// A secret string you define, to ensure correct encryption  "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"secret"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'your-secret-here'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":",  "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"providers"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"GithubProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"clientId"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'your-client-id'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"clientSecret"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'your-client-secret'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    }),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"CredentialsProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// The name to display on the sign in form (e.g. 'Sign in with...')"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'Credentials'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// The credentials is used to generate a suitable form on the sign in page."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// You can specify whatever fields you are expecting to be submitted."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// e.g. domain, username, password, 2FA token, etc."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// You can pass any HTML attribute to the <input> tag through the object."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"credentials"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": { "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"label"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'Username'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'text'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"placeholder"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'(hint: jsmith)'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": { "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"label"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'Password'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'password'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"placeholder"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'(hint: hunter2)'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"authorize"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"credentials"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"any"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// You need to provide your own logic here that takes the credentials"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// submitted and returns either a object representing a user or value"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// that is false/null if the credentials are invalid."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// NOTE: THE BELOW LOGIC IS NOT SAFE OR PROPER FOR AUTHENTICATION!"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0a0375"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'1'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'J Smith'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'jsmith'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'hunter2'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"credentials"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"?."}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0a0375"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"username"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0a0375"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"credentials"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"?."}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0a0375"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// Any object returned will be saved in `user` property of the JWT"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-57f5f1"},"children":[{"type":"text","value":"user"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        } "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// eslint-disable-next-line no-console"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-bfdd99"},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2e2b4e"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1dee3c"},"children":[{"type":"text","value":"'Warning: Malicious login attempt registered, bad credentials provided'"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// If you return null then an error will be displayed advising the user to check their details."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-b1163a"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-937a82"},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-28050a"},"children":[{"type":"text","value":"// You can also Reject this callback with an Error thus the user will be sent to the error page with the error message as a query parameter"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f7665"},"children":[{"type":"text","value":"})"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":" accepts "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/configuration/options#options","rel":["nofollow"]},"children":[{"type":"text","value":"all options that NextAuth.js accepts for its API initialization"}]},{"type":"text","value":". Use this place to configure authentication providers (oauth-google, credential flow, ...), your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":" (equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_SECRET"}]},{"type":"text","value":" in NextAuth.js), add callbacks for authentication events, configure a custom logger and more. Read the linked "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NextAuth.js"}]},{"type":"text","value":" configuration to figure out how this works and what you can do."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-937a82{color:#D19A66}.ct-0a0375{color:#56B6C2}.ct-bfdd99{color:#E5C07B}.ct-28050a{color:#7F848E}.ct-2e2b4e{color:#61AFEF}.ct-1dee3c{color:#98C379}.ct-57f5f1{color:#E06C75}.ct-3f7665{color:#ABB2BF}.ct-b1163a{color:#C678DD}"}]}]},"_type":"markdown","_id":"content:2.guide:2.configuration:2.nuxt-auth-handler.md","_source":"content","_file":"2.guide/2.configuration/2.nuxt-auth-handler.md","_extension":"md"}