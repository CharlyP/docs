{"_path":"/guide/welcome","_dir":{"title":"Welcome","icon":"heroicons-outline:sparkles"},"_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Getting started","description":"Install the package:","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install the package:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -D @sidebase/nuxt-auth\n","filename":"NPM","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i -D @sidebase/nuxt-auth\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add @sidebase/nuxt-auth --dev\n","filename":"Yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add @sidebase/nuxt-auth --dev\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the package to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n   modules: ['@sidebase/nuxt-auth'],\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n   modules: ['@sidebase/nuxt-auth'],\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create the authentication handler ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":") and add at least one "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/providers/","rel":["nofollow"]},"children":[{"type":"text","value":"authentication provider"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport default NuxtAuthHandler({\n    providers: [\n        // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n        GithubProvider.default({\n           clientId: 'enter-your-client-id-here',\n           clientSecret: 'enter-your-client-secret-here'\n        })\n    ]\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport default NuxtAuthHandler({\n    providers: [\n        // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n        GithubProvider.default({\n           clientId: 'enter-your-client-id-here',\n           clientSecret: 'enter-your-client-secret-here'\n        })\n    ]\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Done! You can now use all user-related functionality, for example:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"// file: e.g ~/pages/login.vue\nconst { status, data, signIn, signOut } = await useSession({\n   // Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists\n   required: true\n})\n\nstatus.value // Session status: `unauthenticated`, `loading`, `authenticated`\ndata.value // Session data, e.g., expiration, user.email, ...\n\nawait signIn() // Sign in the user\nawait signOut() // Sign out the user\n","filename":"Application side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: e.g ~/pages/login.vue\nconst { status, data, signIn, signOut } = await useSession({\n   // Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists\n   required: true\n})\n\nstatus.value // Session status: `unauthenticated`, `loading`, `authenticated`\ndata.value // Session data, e.g., expiration, user.email, ...\n\nawait signIn() // Sign in the user\nawait signOut() // Sign out the user\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// file: e.g: ~/server/api/session.get.ts\nimport { getServerSession } from '#auth'\n\nexport default eventHandler(async (event) => {\n   const session = await getServerSession(event)\n   if (!session) {\n      return { status: 'unauthenticated!' }\n   }\n   return { status: 'authenticated!', text: 'im protected by an in-endpoint check', session }\n})\n","filename":"Server side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: e.g: ~/server/api/session.get.ts\nimport { getServerSession } from '#auth'\n\nexport default eventHandler(async (event) => {\n   const session = await getServerSession(event)\n   if (!session) {\n      return { status: 'unauthenticated!' }\n   }\n   return { status: 'authenticated!', text: 'im protected by an in-endpoint check', session }\n})\n"}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There's more supported methods in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useSession"}]},{"type":"text","value":" composable, you can create "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/middleware","rel":["nofollow"]},"children":[{"type":"text","value":"universal-application-"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server#server-middleware","rel":["nofollow"]},"children":[{"type":"text","value":"server-api-middleware"}]},{"type":"text","value":" that make use of the authentication status and more. All of this is "},{"type":"element","tag":"a","props":{"href":"/guide/usage"},"children":[{"type":"text","value":"documented here"}]},{"type":"text","value":"."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install the package:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -D @sidebase/nuxt-auth\n","filename":"NPM","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"npm i -D @sidebase/nuxt-auth"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add @sidebase/nuxt-auth --dev\n","filename":"Yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"yarn add @sidebase/nuxt-auth --dev"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the package to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n   modules: ['@sidebase/nuxt-auth'],\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"modules"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'@sidebase/nuxt-auth'"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create the authentication handler ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":") and add at least one "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/providers/","rel":["nofollow"]},"children":[{"type":"text","value":"authentication provider"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport default NuxtAuthHandler({\n    providers: [\n        // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n        GithubProvider.default({\n           clientId: 'enter-your-client-id-here',\n           clientSecret: 'enter-your-client-secret-here'\n        })\n    ]\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// file: ~/server/api/auth/[...].ts"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'#auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"GithubProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'next-auth/providers/github'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"providers"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"GithubProvider"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"           "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"clientId"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'enter-your-client-id-here'"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"           "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"clientSecret"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'enter-your-client-secret-here'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"        })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"    ]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Done! You can now use all user-related functionality, for example:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"// file: e.g ~/pages/login.vue\nconst { status, data, signIn, signOut } = await useSession({\n   // Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists\n   required: true\n})\n\nstatus.value // Session status: `unauthenticated`, `loading`, `authenticated`\ndata.value // Session data, e.g., expiration, user.email, ...\n\nawait signIn() // Sign in the user\nawait signOut() // Sign out the user\n","filename":"Application side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// file: e.g ~/pages/login.vue"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"signIn"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"signOut"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-e161a8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"useSession"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"required"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-6ac71c"},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// Session status: `unauthenticated`, `loading`, `authenticated`"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// Session data, e.g., expiration, user.email, ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"signIn"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// Sign in the user"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"signOut"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// Sign out the user"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"// file: e.g: ~/server/api/session.get.ts\nimport { getServerSession } from '#auth'\n\nexport default eventHandler(async (event) => {\n   const session = await getServerSession(event)\n   if (!session) {\n      return { status: 'unauthenticated!' }\n   }\n   return { status: 'authenticated!', text: 'im protected by an in-endpoint check', session }\n})\n","filename":"Server side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ce94f"},"children":[{"type":"text","value":"// file: e.g: ~/server/api/session.get.ts"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"getServerSession"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'#auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"eventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b1e422"},"children":[{"type":"text","value":"session"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e161a8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4bbaab"},"children":[{"type":"text","value":"getServerSession"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-e161a8"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"session"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'unauthenticated!'"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-ede8dc"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'authenticated!'"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"text"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8b5e15"},"children":[{"type":"text","value":"'im protected by an in-endpoint check'"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-2dd889"},"children":[{"type":"text","value":"session"}]},{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3a7221"},"children":[{"type":"text","value":"})"}]}]}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There's more supported methods in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useSession"}]},{"type":"text","value":" composable, you can create "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/middleware","rel":["nofollow"]},"children":[{"type":"text","value":"universal-application-"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server#server-middleware","rel":["nofollow"]},"children":[{"type":"text","value":"server-api-middleware"}]},{"type":"text","value":" that make use of the authentication status and more. All of this is "},{"type":"element","tag":"a","props":{"href":"/guide/usage"},"children":[{"type":"text","value":"documented here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6ac71c{color:#D19A66}.ct-e161a8{color:#56B6C2}.ct-b1e422{color:#E5C07B}.ct-3ce94f{color:#7F848E}.ct-8b5e15{color:#98C379}.ct-2dd889{color:#E06C75}.ct-4bbaab{color:#61AFEF}.ct-ede8dc{color:#C678DD}.ct-3a7221{color:#ABB2BF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:2.guide:1.welcome:1.index.md","_source":"content","_file":"2.guide/1.welcome/1.index.md","_extension":"md"}