[{"_path":"/guide/welcome","_dir":"guide","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Getting started","description":"Install the package:","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install the package:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -D @sidebase/nuxt-auth\n","filename":"NPM","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i -D @sidebase/nuxt-auth\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add @sidebase/nuxt-auth --dev\n","filename":"Yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add @sidebase/nuxt-auth --dev\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the package to your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n   modules: ['@sidebase/nuxt-auth'],\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n   modules: ['@sidebase/nuxt-auth'],\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create the authentication handler ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":") and add at least one "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/providers/","rel":["nofollow"]},"children":[{"type":"text","value":"authentication provider"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport default NuxtAuthHandler({\n    providers: [\n        // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n        GithubProvider.default({\n           clientId: 'enter-your-client-id-here',\n           clientSecret: 'enter-your-client-secret-here'\n        })\n    ]\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\nimport GithubProvider from 'next-auth/providers/github'\n\nexport default NuxtAuthHandler({\n    providers: [\n        // @ts-ignore Import is exported on .default during SSR, so we need to call it this way. May be fixed via Vite at some point\n        GithubProvider.default({\n           clientId: 'enter-your-client-id-here',\n           clientSecret: 'enter-your-client-secret-here'\n        })\n    ]\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Done! You can now use all user-related functionality, for example:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"// file: e.g ~/pages/login.vue\nconst { status, data, signIn, signOut } = await useSession({\n   // Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists\n   required: true\n})\n\nstatus.value // Session status: `unauthenticated`, `loading`, `authenticated`\ndata.value // Session data, e.g., expiration, user.email, ...\n\nawait signIn() // Sign in the user\nawait signOut() // Sign out the user\n","filename":"Application side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: e.g ~/pages/login.vue\nconst { status, data, signIn, signOut } = await useSession({\n   // Whether a session is required. If it is, a redirect to the signin page will happen if no active session exists\n   required: true\n})\n\nstatus.value // Session status: `unauthenticated`, `loading`, `authenticated`\ndata.value // Session data, e.g., expiration, user.email, ...\n\nawait signIn() // Sign in the user\nawait signOut() // Sign out the user\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// file: e.g: ~/server/api/session.get.ts\nimport { getServerSession } from '#auth'\n\nexport default eventHandler(async (event) => {\n   const session = await getServerSession(event)\n   if (!session) {\n      return { status: 'unauthenticated!' }\n   }\n   return { status: 'authenticated!', text: 'im protected by an in-endpoint check', session }\n})\n","filename":"Server side","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: e.g: ~/server/api/session.get.ts\nimport { getServerSession } from '#auth'\n\nexport default eventHandler(async (event) => {\n   const session = await getServerSession(event)\n   if (!session) {\n      return { status: 'unauthenticated!' }\n   }\n   return { status: 'authenticated!', text: 'im protected by an in-endpoint check', session }\n})\n"}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There's more supported methods in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useSession"}]},{"type":"text","value":" composable, you can create "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/middleware","rel":["nofollow"]},"children":[{"type":"text","value":"universal-application-"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server#server-middleware","rel":["nofollow"]},"children":[{"type":"text","value":"server-api-middleware"}]},{"type":"text","value":" that make use of the authentication status and more. All of this is "},{"type":"element","tag":"a","props":{"href":"/guide/usage"},"children":[{"type":"text","value":"documented here"}]},{"type":"text","value":"."}]}]}]},"_type":"markdown","_id":"content:2.guide:1.welcome:1.index.md","_source":"content","_file":"2.guide/1.welcome/1.index.md","_extension":"md"},{"_path":"/guide/welcome/demo-page","_dir":"welcome","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Demo Page","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"demo-page"},"children":[{"type":"text","value":"Demo Page"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Visit the nuxt-auth "},{"type":"element","tag":"a","props":{"href":"https://nuxt-auth-example.sidebase.io/","rel":["nofollow"]},"children":[{"type":"text","value":"demo page here"}]},{"type":"text","value":":"}]}]},{"type":"element","tag":"alert","props":{"type":"success"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find the "},{"type":"element","tag":"a","props":{"href":"https://github.com/sidebase/nuxt-auth-example","rel":["nofollow"]},"children":[{"type":"text","value":"demo source-code here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"nuxt-auth demo page","src":"/nuxt-auth-example-preview.png"},"children":[]}]}]},"_type":"markdown","_id":"content:2.guide:1.welcome:3.demo-page.md","_source":"content","_file":"2.guide/1.welcome/3.demo-page.md","_extension":"md"}]