{"_path":"/guide/configuration/nuxt-config","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Nuxt Config","description":"Learn how to configure nuxt-auth inside of the nuxt-config.ts","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"nuxtconfigts"},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"auth"}]},{"type":"text","value":"-key inside your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":" to configure the module itself. Right now this is limited to the following options:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n  modules: ['@sidebase/nuxt-auth'],\n  auth: {\n    // The module is enabled. Change this to disable the module\n    isEnabled: true,\n\n    // The origin is set to the development origin. Change this when deploying to production\n    origin: 'http://localhost:300',\n\n    // The base path to the authentication endpoints. Change this if you want to add your auth-endpoints at a non-default location\n    basePath: '/api/auth'\n  }\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  modules: ['@sidebase/nuxt-auth'],\n  auth: {\n    // The module is enabled. Change this to disable the module\n    isEnabled: true,\n\n    // The origin is set to the development origin. Change this when deploying to production\n    origin: 'http://localhost:300',\n\n    // The base path to the authentication endpoints. Change this if you want to add your auth-endpoints at a non-default location\n    basePath: '/api/auth'\n  }\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":" together are equivalent to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_URL"}]},{"type":"text","value":" environment variable of NextAuth.js"}]},{"type":"element","tag":"h2","props":{"id":"origin"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"You must set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" in production, this includes when you run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":"!"}]},{"type":"text","value":" This is so that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-auth"}]},{"type":"text","value":" can ensure that callbacks for authentication are correct. The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" consists out of (up to) 3 parts:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"scheme: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host: e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"localhost"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"example.org"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"www.sidebase.io"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port: e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":3000"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":4444"}]},{"type":"text","value":"; leave empty to implicitly set "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":80"}]},{"type":"text","value":" (this is an internet convention, don't ask)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For "},{"type":"element","tag":"a","props":{"href":"https://nuxt-auth-example.sidebase.io","rel":["nofollow"]},"children":[{"type":"text","value":"the demo-app"}]},{"type":"text","value":" we set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://nuxt-auth-example.sidebase.io"}]},{"type":"text","value":". If for some reason required, you can explicitly set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000"}]},{"type":"text","value":" to stop "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-auth"}]},{"type":"text","value":" from aborting "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" when the origin is unset."}]},{"type":"element","tag":"h2","props":{"id":"basepath"},"children":[{"type":"text","value":"basePath"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is what tells the module where you added the authentication endpoints. Per default the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/auth"}]},{"type":"text","value":", so that means that the module expects that all requests to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/auth/*"}]},{"type":"text","value":" will be handled by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To statify this, you need to create a "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server#catch-all-route","rel":["nofollow"]},"children":[{"type":"text","value":"catch-all server-route"}]},{"type":"text","value":" at that location by creating a file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/auth/[...].ts"}]},{"type":"text","value":" that exports the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":", see more on this in the "},{"type":"element","tag":"a","props":{"href":"#quick-start"},"children":[{"type":"text","value":"Quick Start"}]},{"type":"text","value":" or in the "},{"type":"element","tag":"a","props":{"href":"#serverapiauthts"},"children":[{"type":"text","value":"configuration section below"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to have the authentication at another location, you can overwrite the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":", e.g., when setting:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath: \"/api/_auth\""}]},{"type":"text","value":" -> add the authentication catch-all endpoints into "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/_auth/[...].ts"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath: \"/_auth\""}]},{"type":"text","value":" -> add the authentication catch-all endpoints into "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/routes/_auth/[...].ts"}]},{"type":"text","value":" (see "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server/#server-routes","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt server-routes docs on this"}]},{"type":"text","value":")"}]}]},{"type":"element","tag":"h2","props":{"id":"nuxtauthhandler"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler({ ... })"}]},{"type":"text","value":" to configure how the authentication itself behaves:"}]},{"type":"element","tag":"code","props":{"code":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // your authentication configuration here!\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // your authentication configuration here!\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":" accepts "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/configuration/options#options","rel":["nofollow"]},"children":[{"type":"text","value":"all options that NextAuth.js accepts for its API initialization"}]},{"type":"text","value":". Use this place to configure authentication providers (oauth-google, credential flow, ...), your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":" (equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_SECRET"}]},{"type":"text","value":" in NextAuth.js), add callbacks for authentication events, configure a custom logger and more. Read the linked "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NextAuth.js"}]},{"type":"text","value":" configuration to figure out how this works and what you can do."}]}]},"toc":true,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"nuxtconfigts"},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"auth"}]},{"type":"text","value":"-key inside your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":" to configure the module itself. Right now this is limited to the following options:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n  modules: ['@sidebase/nuxt-auth'],\n  auth: {\n    // The module is enabled. Change this to disable the module\n    isEnabled: true,\n\n    // The origin is set to the development origin. Change this when deploying to production\n    origin: 'http://localhost:300',\n\n    // The base path to the authentication endpoints. Change this if you want to add your auth-endpoints at a non-default location\n    basePath: '/api/auth'\n  }\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9a25cb"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"modules"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-d06649"},"children":[{"type":"text","value":"'@sidebase/nuxt-auth'"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"auth"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d1edd9"},"children":[{"type":"text","value":"// The module is enabled. Change this to disable the module"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"isEnabled"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f7a745"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d1edd9"},"children":[{"type":"text","value":"// The origin is set to the development origin. Change this when deploying to production"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-d06649"},"children":[{"type":"text","value":"'http://localhost:300'"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d1edd9"},"children":[{"type":"text","value":"// The base path to the authentication endpoints. Change this if you want to add your auth-endpoints at a non-default location"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"basePath"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-d06649"},"children":[{"type":"text","value":"'/api/auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":" together are equivalent to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_URL"}]},{"type":"text","value":" environment variable of NextAuth.js"}]},{"type":"element","tag":"h2","props":{"id":"origin"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"You must set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" in production, this includes when you run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":"!"}]},{"type":"text","value":" This is so that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-auth"}]},{"type":"text","value":" can ensure that callbacks for authentication are correct. The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" consists out of (up to) 3 parts:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"scheme: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"host: e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"localhost"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"example.org"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"www.sidebase.io"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"port: e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":3000"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":4444"}]},{"type":"text","value":"; leave empty to implicitly set "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":":80"}]},{"type":"text","value":" (this is an internet convention, don't ask)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For "},{"type":"element","tag":"a","props":{"href":"https://nuxt-auth-example.sidebase.io","rel":["nofollow"]},"children":[{"type":"text","value":"the demo-app"}]},{"type":"text","value":" we set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://nuxt-auth-example.sidebase.io"}]},{"type":"text","value":". If for some reason required, you can explicitly set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"origin"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000"}]},{"type":"text","value":" to stop "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-auth"}]},{"type":"text","value":" from aborting "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" when the origin is unset."}]},{"type":"element","tag":"h2","props":{"id":"basepath"},"children":[{"type":"text","value":"basePath"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is what tells the module where you added the authentication endpoints. Per default the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/auth"}]},{"type":"text","value":", so that means that the module expects that all requests to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/auth/*"}]},{"type":"text","value":" will be handled by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To statify this, you need to create a "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server#catch-all-route","rel":["nofollow"]},"children":[{"type":"text","value":"catch-all server-route"}]},{"type":"text","value":" at that location by creating a file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/auth/[...].ts"}]},{"type":"text","value":" that exports the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":", see more on this in the "},{"type":"element","tag":"a","props":{"href":"#quick-start"},"children":[{"type":"text","value":"Quick Start"}]},{"type":"text","value":" or in the "},{"type":"element","tag":"a","props":{"href":"#serverapiauthts"},"children":[{"type":"text","value":"configuration section below"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to have the authentication at another location, you can overwrite the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath"}]},{"type":"text","value":", e.g., when setting:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath: \"/api/_auth\""}]},{"type":"text","value":" -> add the authentication catch-all endpoints into "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/api/_auth/[...].ts"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basePath: \"/_auth\""}]},{"type":"text","value":" -> add the authentication catch-all endpoints into "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/server/routes/_auth/[...].ts"}]},{"type":"text","value":" (see "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/server/#server-routes","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt server-routes docs on this"}]},{"type":"text","value":")"}]}]},{"type":"element","tag":"h2","props":{"id":"nuxtauthhandler"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler({ ... })"}]},{"type":"text","value":" to configure how the authentication itself behaves:"}]},{"type":"element","tag":"code","props":{"code":"// file: ~/server/api/auth/[...].ts\nimport { NuxtAuthHandler } from '#auth'\n\nexport default NuxtAuthHandler({\n  // your authentication configuration here!\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d1edd9"},"children":[{"type":"text","value":"// file: ~/server/api/auth/[...].ts"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-f11516"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d06649"},"children":[{"type":"text","value":"'#auth'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1b89"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9a25cb"},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-d1edd9"},"children":[{"type":"text","value":"// your authentication configuration here!"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2ca5"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NuxtAuthHandler"}]},{"type":"text","value":" accepts "},{"type":"element","tag":"a","props":{"href":"https://next-auth.js.org/configuration/options#options","rel":["nofollow"]},"children":[{"type":"text","value":"all options that NextAuth.js accepts for its API initialization"}]},{"type":"text","value":". Use this place to configure authentication providers (oauth-google, credential flow, ...), your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secret"}]},{"type":"text","value":" (equivalent to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NEXTAUTH_SECRET"}]},{"type":"text","value":" in NextAuth.js), add callbacks for authentication events, configure a custom logger and more. Read the linked "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NextAuth.js"}]},{"type":"text","value":" configuration to figure out how this works and what you can do."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-f7a745{color:#D19A66}.ct-d1edd9{color:#7F848E}.ct-d06649{color:#98C379}.ct-f11516{color:#E06C75}.ct-9a25cb{color:#61AFEF}.ct-5e2ca5{color:#ABB2BF}.ct-3f1b89{color:#C678DD}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"origin","depth":2,"text":"origin"},{"id":"basepath","depth":2,"text":"basePath"},{"id":"nuxtauthhandler","depth":2,"text":"NuxtAuthHandler"}]}},"_type":"markdown","_id":"content:2.guide:2.configuration:1.nuxt-config.md","_source":"content","_file":"2.guide/2.configuration/1.nuxt-config.md","_extension":"md"}